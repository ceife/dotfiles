###SETTINGS###
set column_ratios 1,3,4
set show_hidden true
set confirm_on_delete multiple
set automatically_count_files true
set open_all_images true
set preview_images true
set colorscheme default
set preview_files true
set preview_directories true
set collapse_preview true
set save_console_history false
set status_bar_on_top false
set draw_progress_bar_in_status_bar true
set draw_borders true
set dirname_in_tabs true
set mouse_enabled true
set display_size_in_main_column true
set display_size_in_status_bar true
set display_tags_in_all_columns true
set update_title false
set sort natural
set sort_reverse false
set sort_case_insensitive true
set sort_directories_first true
set sort_unicode false
set show_selection_in_titlebar true

###ALIASES### :q
alias q    quit
alias Q    quit
alias q!   quitall
alias Q!   quitall
alias qa   quitall
alias Qa   quitall
alias QA   quitall

###BASIC KEYS###
#BASIC
map <esc>   change_mode normal
map Q       quit
map q       quit
map i       display_file
map ?       help
map :       console
map !       console shell%space
map opt     chain draw_possible_programs; console open_with%%space

#LINEMODE
map mi linemode fileinfo
map mi linemode filename
map mt linemode mtime
map ms linemode sizemtime
map mp linemode permissions

# SEARCH
map /  console find%space
map n  search_next
map N  search_next forward=False

# Tagging / Marking
map tt      tag_toggle
map <Space> mark_files toggle=True
map av      mark_files all=True toggle=True
map uv      mark_files all=True val=False

#MOVEMENT
# In case you work on a keyboard with dvorak layout
map <UP>       move up=1
map <DOWN>     move down=1
map <LEFT>     move left=1
map <RIGHT>    move right=1
map <HOME>     move to=0
map <END>      move to=-1
map <PAGEDOWN> move down=1   pages=True
map <PAGEUP>   move up=1     pages=True
map <CR>       move right=1
map <DELETE>   console delete
map <INSERT>   console touch%space
# VIM-like
copymap     <UP>            k
copymap     <DOWN>          j
copymap     <LEFT>          h
copymap     <RIGHT>         l
copymap     <HOME>          gg
copymap     <END>           G
copymap     <PAGEDOWN>      <C-D>
copymap     <PAGEUP>        <C-B>
map <C-D>   move down=0.5   pages=True
map <C-B>   move up=0.5     pages=True
# Jumping around
map H     history_go -1
map L     history_go 1

#DEFAULT CD
map ~       cd ~
map cdf     cd ~/dev/dotfiles
map cpy     cd ~/dev/python
map cphp    cd ~/dev/php
map cfr     cd ~/dev/front
map cgh     cd ~/go/src/github.com/nenitf
map cgl     cd ~/go/src/gitlab.com/nenitf
map ctex    cd ~/dev/tex

# TABS
map <C-n>   tab_new ~
map <TAB>   tab_move 1
map <S-TAB> tab_move -1
map gt      tab_move 1
map gT      tab_move -1
map <1-TAB> tab_open 1
map <2-TAB> tab_open 2
map <3-TAB> tab_open 3
map <4-TAB> tab_open 4
map <5-TAB> tab_open 5
map <6-TAB> tab_open 6
map <7-TAB> tab_open 7
map <8-TAB> tab_open 8
map <9-TAB> tab_open 9

# Filesystem Operations
map x shell chmod +x %s

#Rename
map S  rename_append
map A  eval fm.open_console('rename ' + fm.thisfile.relative_path)
map I  eval fm.open_console('rename ' + fm.thisfile.relative_path, position=7)

#Copy, paste, cut, delete
map Y   copy
map ya  copy mode=add
map yr  copy mode=remove
map pp  paste
map po  paste overwrite=True
map pa  paste append=True
#map pO paste overwrite=True append=True
map dd  cut
map ud  uncut
map da  cut mode=add
map dr  cut mode=remove
map uy  uncut
map D   console delete

#Others
map mk console mkdir%space
map X shell extract %f
map Z shell tar -cvzf %f.tar.gz %s

# Sorting
map or toggle_option sort_reverse
map os chain set sort=size;      set sort_reverse=False
map ob chain set sort=basename;  set sort_reverse=False
map om chain set sort=mtime;     set sort_reverse=False
map oc chain set sort=ctime;     set sort_reverse=False
map oa chain set sort=atime;     set sort_reverse=False
map ot chain set sort=type;      set sort_reverse=False
map oe chain set sort=extension; set sort_reverse=False
map oS chain set sort=size;      set sort_reverse=True
map oB chain set sort=basename;  set sort_reverse=True
map oN chain set sort=natural;   set sort_reverse=True
map oM chain set sort=mtime;     set sort_reverse=True
map oC chain set sort=ctime;     set sort_reverse=True
map oA chain set sort=atime;     set sort_reverse=True
map oT chain set sort=type;      set sort_reverse=True
map oE chain set sort=extension; set sort_reverse=True
map dc get_cumulative_size

#Settings
map zh  toggle_option show_hidden
map zi  toggle_option flushinput
map zm  toggle_option mouse_enabled
map zp  toggle_option preview_files
map zP  toggle_option preview_directories
map zs  toggle_option sort_case_insensitive
map zu  toggle_option autoupdate_cumulative_size

#Document Manipulation
map yc shell cp %f ~/dev/dotfiles
map MP shell pandoc %f -o %f.pdf
map MX shell xelatex %f
map ML shell latex %f
map TC shell texclear
map at shell atom %f
map n  console shell nvim%space
